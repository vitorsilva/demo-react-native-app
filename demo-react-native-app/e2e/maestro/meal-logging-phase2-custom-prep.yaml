# Maestro E2E test for Phase 2 Meal Logging with Ingredients
# Tests confirmation modal shows ingredients properly
#
# Prerequisites:
#   - Android emulator running: adb devices
#   - App installed (see MAESTRO_TESTING.md for options)
#
# Run with: maestro test e2e/maestro/meal-logging-phase2-custom-prep.yaml

appId: com.vitorsilvavmrs.saborspin
---
# Clear app state for consistent testing
- clearState
# Launch app
- launchApp

# Verify home screen loads
- extendedWaitUntil:
    visible: "SaborSpin"
    timeout: 30000

# Take screenshot of initial home screen
- takeScreenshot: phase2-custom-01-home

# Navigate to breakfast suggestions
- tapOn:
    text: "breakfast Ideas"
    optional: false

# Wait for suggestions screen to load
- extendedWaitUntil:
    visible: "Pick one:"
    timeout: 15000

# Take screenshot of suggestions
- takeScreenshot: phase2-custom-02-suggestions

# Select first suggestion to open confirmation modal
- tapOn:
    text: "Select"
    index: 0

# Wait for confirmation modal
- extendedWaitUntil:
    visible: "Breakfast Logged"
    timeout: 10000

# Take screenshot of confirmation modal with ingredients
- takeScreenshot: phase2-custom-03-confirmation

# Complete the logging
- tapOn: "Done"

# Wait to return to home screen
- extendedWaitUntil:
    visible: "Recent Meals"
    timeout: 10000

# Take screenshot of home after logging
- takeScreenshot: phase2-custom-04-home-after

# Test passed - meal logging with ingredients works on mobile
